import{d as Y,r as u,o as F,a as f,c as h,b as p,F as L,e as B,n as C,f as D,t as m,_ as V}from"./index-CK3bdsGx.js";const E=["data-index"],H=Y({__name:"slide",setup(N){const M=u(),c=u(),r=u(0),s=u([]),v=u([]),a=u(0),e=u(0),d=u(0),n=u(0),g=u(0),i=u(document.documentElement.clientHeight);function y(t){d.value=t.touches[0].clientY,g.value=Date.now()}function T(t){if(n.value=t.touches[0].clientY-d.value,e.value===0&&n.value>0)return console.log("上拉刷新");if(e.value===r.value-1&&n.value<0)return console.log("没有更多了");x(n.value-e.value*i.value,"none")}function k(){if(_()){if(n.value>0){if(e.value===0)return;e.value--}if(n.value<0){if(e.value===r.value-1)return;e.value++,e.value>=a.value}}b(),x(-e.value*i.value,"all 0.3s"),w()}function b(){if(_()){const t=e.value<v.value.length-a.value-1,o=e.value<v.value.length-a.value-2;if(n.value>0&&o&&(e.value>=a.value||e.value===a.value-1)){const l=e.value-a.value+1;s.value.pop(),s.value.unshift(v.value[l])}if(n.value<0&&t&&e.value>=a.value){const l=e.value-a.value+s.value.length;s.value.shift(),s.value.push(v.value[l])}}}function x(t,o){c.value.style.transition=o,c.value.style.transform=`translateY(${t}px)`}function w(){d.value=0,n.value=0}function R(){v.value=[...Array(20)].map((t,o)=>({index:o+1,title:`第${o+1}个`,background:$()})),r.value=v.value.length,s.value=v.value.slice(0,Math.min(r.value,5)),a.value=Math.floor(s.value.length/2)}function _(){const t=Date.now()-g.value,l=Math.abs(n.value)/t>.5;return Math.abs(n.value)>i.value/2||l}function $(){return`rgb(${Math.floor(Math.random()*256)}, ${Math.floor(Math.random()*256)}, ${Math.floor(Math.random()*256)})`}function I(){if(e.value>=a.value){const t=e.value-a.value+1,o=v.value.length-1-a.value-2,l=Math.min(t,o)*i.value;return`${Math.max(l,0)}px`}return 0}return F(()=>{R()}),(t,o)=>(f(),h("div",{ref_key:"wrapperRef",ref:M,class:"wrapper",onTouchstart:y,onTouchmove:T,onTouchend:k},[p("div",{ref_key:"listRef",ref:c,class:"list"},[(f(!0),h(L,null,B(s.value,l=>(f(),h("div",{key:l.index,class:"item","data-index":l.index,style:C({top:I(),background:l.background})},[D(m(l.title)+": ",1),p("div",null,"activeIndex："+m(e.value),1),p("div",null,"middleIndex："+m(a.value),1)],12,E))),128))],512)],544))}}),A=V(H,[["__scopeId","data-v-d0a05336"]]);export{A as default};
