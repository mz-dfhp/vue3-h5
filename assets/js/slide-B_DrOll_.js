import{r as Y}from"./index-CL-EFhig.js";import{d as R,a as e,b as B,o as d,c as f,e as p,F as D,r as F,n as V,f as C,t as m,_ as E}from"./index-BwN2_Jze.js";const H=["data-index"],L=R({__name:"slide",setup(N){const x=e(),u=e(),s=e(0),r=e([]),c=e([]),_=e(0),t=e(0),i=e(0),a=e(0),h=e(0),v=e(document.documentElement.clientHeight);function y(n){i.value=n.touches[0].clientY,h.value=Date.now()}function T(n){if(a.value=n.touches[0].clientY-i.value,t.value===0&&a.value>0)return console.log("上拉刷新");if(t.value===s.value-1&&a.value<0)return console.log("没有更多了");g(a.value-t.value*v.value,"none")}function k(){if(w()){if(a.value>0){if(t.value===0)return;t.value--}if(a.value<0){if(t.value===s.value-1)return;t.value++}}g(-t.value*v.value,"all 0.3s"),M()}function g(n,l){u.value.style.transition=l,u.value.style.transform=`translateY(${n}px)`}function M(){i.value=0,a.value=0}function b(){c.value=[...Array(20)].map((n,l)=>({index:l+1,title:`第${l+1}个`,background:Y()})),s.value=c.value.length,r.value=c.value.slice(0,Math.min(s.value,5)),_.value=Math.floor(r.value.length/2)}function w(){const n=Date.now()-h.value,o=Math.abs(a.value)/n>.5;return Math.abs(a.value)>v.value/2||o}function I(){return 0}return B(()=>{b()}),(n,l)=>(d(),f("div",{ref_key:"wrapperRef",ref:x,class:"wrapper",onTouchstart:y,onTouchmove:T,onTouchend:k},[p("div",{ref_key:"listRef",ref:u,class:"list"},[(d(!0),f(D,null,F(r.value,o=>(d(),f("div",{key:o.index,class:"item","data-index":o.index,style:V({top:I(),background:o.background})},[C(m(o.title)+": ",1),p("div",null,"activeIndex："+m(t.value),1),p("div",null,"middleIndex："+m(_.value),1)],12,H))),128))],512)],544))}}),A=E(L,[["__scopeId","data-v-90f7f232"]]);export{A as default};
